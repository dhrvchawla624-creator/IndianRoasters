const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/Home-MpuJS-uI.js","assets/js/vendor-react-r_DLG1Wr.js","assets/js/vendor-ui-B9TMmbEb.js","assets/css/vendor-ui-DYRwNNQT.css","assets/js/CoffeeCard-CfNzhjRy.js","assets/js/vendor-firebase-BMH949tH.js","assets/js/Roasters-CT7WP1a2.js","assets/js/PageHero-BXJQUMXs.js","assets/js/About-BJfi4TfW.js","assets/js/Blog-B6140U33.js","assets/js/Contact-s2CYyZlf.js","assets/js/Profile-CbPd73IX.js","assets/js/LoginPage-PruNYjve.js","assets/js/NotFound-BmXLJX9s.js","assets/js/analytics-EV4BAQ4a.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,r,s)=>((t,r,s)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s)(t,"symbol"!=typeof r?r+"":r,s);import{r,j as s,u as a,L as o,N as n,O as i,b as l,B as d,R as c,c as h,d as m}from"./vendor-react-r_DLG1Wr.js";import{i as x,g as u,a as f,G as p,b as g,o as b,s as j,c as w,d as v,q as y,w as k,e as N,f as E,h as S,j as _}from"./vendor-firebase-BMH949tH.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const F={},I=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),a=r?.nonce||r?.getAttribute("nonce");s=e(t.map(e=>{if((e=function(e){return"/"+e}(e))in F)return;F[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":"modulepreload",t||(s.as="script"),s.crossOrigin="",s.href=e,a&&s.setAttribute("nonce",a),document.head.appendChild(s),t?new Promise((t,r)=>{s.addEventListener("load",t),s.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function a(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return s.then(t=>{for(const e of t||[])"rejected"===e.status&&a(e.reason);return e().catch(a)})},L=x({apiKey:"AIzaSyBstXWH5nwld2EsVnqfJw7rvyti9IQzhw4",authDomain:"indian-roasters.firebaseapp.com",projectId:"indian-roasters",storageBucket:"indian-roasters.firebasestorage.app",messagingSenderId:"216658784035",appId:"1:216658784035:web:15acb54173688b7273a696"}),C=u(L),A=f(L),T=new p,P=new g,D=r.createContext(void 0);function R({children:e}){const[t,a]=r.useState(null),[o,n]=r.useState(!0);r.useEffect(()=>b(C,e=>{a(e),n(!1)}),[]);const i={user:t,loading:o,signInWithGoogle:async()=>{try{await w(C,T)}catch(e){throw e}},signInWithGithub:async()=>{try{await w(C,P)}catch(e){throw e}},signOut:async()=>{try{await j(C)}catch(e){throw e}}};return s.jsx(D.Provider,{value:i,children:!o&&e})}function O(){const e=r.useContext(D);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e}const z=r.createContext(void 0);function B({children:e}){const[t,a]=r.useState([]),[o,n]=r.useState(!0);r.useEffect(()=>{const e=async()=>{const e=C.currentUser;if(!e)return a([]),void n(!1);try{const t=v(A,"favorites"),r=y(t,k("userId","==",e.uid)),s=(await N(r)).docs.map(e=>e.data().coffeeId);a(s)}catch(t){}finally{n(!1)}};e();const t=C.onAuthStateChanged(()=>{e()});return()=>t()},[]);return s.jsx(z.Provider,{value:{favorites:t,toggleFavorite:async e=>{const r=C.currentUser;if(r)try{const s=`${r.uid}_${e}`,o=E(A,"favorites",s);t.includes(e)?(await S(o),a(t=>t.filter(t=>t!==e))):(await _(o,{userId:r.uid,coffeeId:e,addedAt:(new Date).toISOString()}),a(t=>[...t,e]))}catch(s){alert("Failed to update favorites. Please try again.")}else alert("Please log in to save favorites")},isFavorite:e=>t.includes(e),loading:o},children:e})}function M(){const e=r.useContext(z);if(!e)throw new Error("useFavorites must be used within FavoritesProvider");return e}function W({show:e}){return e?s.jsx("div",{className:"fixed top-0 left-0 w-screen h-screen bg-linear-to-br from-coffee-dark to-coffee-brown flex items-center justify-center z-9999 animate-fadeOut",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsxs("div",{className:"relative mb-8",children:[s.jsx("div",{className:"text-8xl animate-bounce-custom",children:"‚òï"}),s.jsxs("div",{className:"absolute -top-10 left-1/2 -translate-x-1/2 flex gap-2.5",children:[s.jsx("span",{className:"block w-2 h-8 bg-white/40 rounded-full animate-steam"}),s.jsx("span",{className:"block w-2 h-8 bg-white/40 rounded-full animate-steam [animation-delay:0.3s]"}),s.jsx("span",{className:"block w-2 h-8 bg-white/40 rounded-full animate-steam [animation-delay:0.6s]"})]})]}),s.jsx("h1",{className:"text-5xl font-bold mb-2.5 tracking-tight",children:"Indian Roasters"}),s.jsx("p",{className:"text-lg opacity-90 mb-8",children:"Discover India's Finest Specialty Coffee"}),s.jsx("div",{className:"w-[200px] h-1 bg-white/20 rounded-sm mx-auto overflow-hidden",children:s.jsx("div",{className:"h-full bg-gold rounded-sm animate-progress"})})]})}):null}function U({onThemeToggle:e,isDarkMode:t=!1}){const[i,l]=r.useState(!1),d=a(),{user:c}=O(),h=()=>{l(!i)},m=[{name:"Home",href:"/"},{name:"Roasters",href:"/roasters"},{name:"About",href:"/about"},{name:"Blog",href:"/blog"},{name:"Contact",href:"/contact"}];c?m.push({name:"Profile",href:"/profile"}):m.push({name:"Login",href:"/login"});return s.jsxs(s.Fragment,{children:[s.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 transition-all duration-300 bg-linear-to-br from-coffee-dark via-coffee-brown to-coffee-medium shadow-lg dark:from-dark-surface-elevated dark:via-dark-surface dark:to-dark-bg-secondary",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"text-3xl",children:"‚òï"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xl font-extrabold text-white leading-tight drop-shadow-md",children:"Indian Roasters"}),s.jsx("span",{className:"text-xs text-cream opacity-90 leading-tight drop-shadow-sm dark:text-dark-text-secondary",children:"Indian Coffee Library"})]})]}),s.jsxs("div",{className:"hidden md:flex items-center space-x-1",children:[m.map(e=>{return s.jsx(o,{to:e.href,className:"px-4 py-2 text-white hover:bg-white/20 rounded-lg transition-all duration-300 font-medium text-sm drop-shadow-sm dark:hover:bg-white/15 "+(t=e.href,("/"===t?"/"===d.pathname:d.pathname.startsWith(t))?"bg-white/20 dark:bg-white/15":""),children:e.name},e.name);var t}),c&&c.photoURL&&s.jsx(o,{to:"/profile",className:"ml-2",children:s.jsx("img",{src:c.photoURL,alt:"Profile",className:"w-8 h-8 rounded-full border-2 border-white/30 hover:border-white/60 transition-all duration-300 object-cover"})})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:e,className:"p-2 text-white hover:bg-white/20 rounded-lg transition-all duration-300 drop-shadow-sm dark:hover:bg-white/15","aria-label":"Toggle theme",title:t?"Switch to Light Mode":"Switch to Dark Mode",children:t?s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:[s.jsx("circle",{cx:"12",cy:"12",r:"4"}),s.jsx("path",{d:"M12 2v2"}),s.jsx("path",{d:"M12 20v2"}),s.jsx("path",{d:"m4.93 4.93 1.41 1.41"}),s.jsx("path",{d:"m17.66 17.66 1.41 1.41"}),s.jsx("path",{d:"M2 12h2"}),s.jsx("path",{d:"M20 12h2"}),s.jsx("path",{d:"m6.34 17.66-1.41 1.41"}),s.jsx("path",{d:"m19.07 4.93-1.41 1.41"})]}):s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:s.jsx("path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"})})}),s.jsx("button",{onClick:h,className:"md:hidden p-2 text-white hover:bg-white/20 rounded-lg transition-all duration-300 dark:hover:bg-white/15","aria-label":"Toggle menu",children:s.jsxs("div",{className:"w-6 h-5 flex flex-col justify-between",children:[s.jsx("span",{className:"block h-0.5 w-6 bg-white rounded-full transition-all duration-300 drop-shadow-sm "+(i?"rotate-45 translate-y-2":"")}),s.jsx("span",{className:"block h-0.5 w-6 bg-white rounded-full transition-all duration-300 drop-shadow-sm "+(i?"opacity-0":"opacity-100")}),s.jsx("span",{className:"block h-0.5 w-6 bg-white rounded-full transition-all duration-300 drop-shadow-sm "+(i?"-rotate-45 -translate-y-2":"")})]})})]})]})})}),s.jsxs("div",{className:"fixed inset-0 z-60 md:hidden transition-all duration-300 "+(i?"visible":"invisible"),children:[s.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity duration-300 "+(i?"opacity-100":"opacity-0"),onClick:h}),s.jsxs("div",{className:"absolute top-0 right-0 h-full w-72 bg-linear-to-br from-coffee-dark via-coffee-brown to-coffee-medium dark:from-dark-surface-elevated dark:via-dark-surface dark:to-dark-bg-secondary shadow-2xl transition-transform duration-300 "+(i?"translate-x-0":"translate-x-full"),children:[s.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-white/10 dark:border-white/5",children:[c&&s.jsxs("div",{className:"flex items-center space-x-3",children:[c.photoURL&&s.jsx("img",{src:c.photoURL,alt:"Profile",className:"w-10 h-10 rounded-full border-2 border-white/30 object-cover"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-white text-sm font-semibold",children:c.displayName||"Coffee Lover"}),s.jsx("span",{className:"text-cream/70 text-xs",children:c.email})]})]}),!c&&s.jsx("div",{className:"flex-1"}),s.jsx("button",{onClick:h,className:"p-2 text-white hover:bg-white/10 rounded-lg transition-all duration-300 dark:hover:bg-white/5","aria-label":"Close menu",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"flex flex-col p-4 space-y-2",children:m.map((e,t)=>s.jsx(n,{to:e.href,onClick:h,className:({isActive:e})=>"flex items-center px-5 py-4 text-white hover:bg-white/20 dark:hover:bg-white/15 rounded-xl transition-all duration-300 font-medium text-lg animate-slideDown "+(e?"bg-white/20 dark:bg-white/15":""),style:{animationDelay:.1*t+"s",animationFillMode:"both"},children:e.name},e.name))}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-5 border-t border-white/10 dark:border-white/5",children:s.jsxs("div",{className:"text-center text-cream/60 dark:text-dark-text-muted text-sm",children:[s.jsx("p",{className:"mb-1",children:"üåü Premium Specialty Coffee"}),s.jsx("p",{className:"text-xs",children:"Your Indian Coffee Library"})]})})]})]})]})}function V({lastUpdate:e}){return s.jsx("footer",{className:"bg-linear-to-br from-coffee-dark to-coffee-brown dark:from-dark-surface-elevated dark:to-dark-bg-secondary text-white px-5 py-16 mt-20 transition-colors duration-300",children:s.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center flex-wrap gap-8",children:[s.jsxs("div",{className:"flex-1 min-w-[250px]",children:[s.jsx("h3",{className:"text-3xl font-bold mb-2.5",children:"‚òï Indian Roasters"}),s.jsx("p",{className:"opacity-80 text-base",children:"Your ultimate specialty coffee library"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"opacity-80 mb-1",children:"Discover beans from India's finest roasters"}),s.jsxs("p",{className:"text-sm opacity-60",children:["Last updated: ",new Date(e).toLocaleString()]})]})]})})}function H(){const{user:e,loading:t}=O();return t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-cream-light dark:bg-dark-bg",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-coffee-medium dark:border-dark-accent mx-auto mb-4"}),s.jsx("p",{className:"text-coffee-medium dark:text-dark-text-secondary",children:"Loading..."})]})}):e?s.jsx(i,{}):s.jsx(l,{to:"/login",replace:!0})}const q=r.lazy(()=>I(()=>import("./Home-MpuJS-uI.js"),__vite__mapDeps([0,1,2,3,4,5]))),G=r.lazy(()=>I(()=>import("./Roasters-CT7WP1a2.js"),__vite__mapDeps([6,1,7]))),$=r.lazy(()=>I(()=>import("./About-BJfi4TfW.js"),__vite__mapDeps([8,1,7]))),Y=r.lazy(()=>I(()=>import("./Blog-B6140U33.js"),__vite__mapDeps([9,1,7]))),K=r.lazy(()=>I(()=>import("./Contact-s2CYyZlf.js"),__vite__mapDeps([10,1,7]))),J=r.lazy(()=>I(()=>import("./Profile-CbPd73IX.js"),__vite__mapDeps([11,1,5,4]))),Q=r.lazy(()=>I(()=>import("./LoginPage-PruNYjve.js"),__vite__mapDeps([12,1,5]))),X=r.lazy(()=>I(()=>import("./NotFound-BmXLJX9s.js"),__vite__mapDeps([13,1]))),Z=r.lazy(()=>I(()=>import("./analytics-EV4BAQ4a.js").then(e=>e.i),__vite__mapDeps([14,1])).then(e=>({default:e.Analytics}))),ee=r.lazy(()=>I(()=>import("./analytics-EV4BAQ4a.js").then(e=>e.a),__vite__mapDeps([14,1])).then(e=>({default:e.SpeedInsights}))),te=()=>s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-cream-light dark:bg-dark-bg",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500 mb-4"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Loading..."})]})});function re(){const[e,t]=r.useState(!0),[a,o]=r.useState(!1),[n,i]=r.useState(()=>{const e=localStorage.getItem("darkMode");return null!==e?"true"===e:window.matchMedia("(prefers-color-scheme: dark)").matches}),[l,m]=r.useState(""),[x,u]=r.useState(!1);r.useEffect(()=>{const e=setTimeout(()=>{t(!1)},2e3);return()=>clearTimeout(e)},[]),r.useEffect(()=>{if(!e){const e=setTimeout(()=>{o(!1)},3e3);return()=>clearTimeout(e)}},[e]),r.useEffect(()=>{(async()=>{try{const e=await fetch("/api/coffee"),t=await e.json();m(t.lastUpdate)}catch(e){}})()},[]),r.useEffect(()=>{n?(document.documentElement.classList.add("dark"),document.documentElement.setAttribute("data-color-scheme","dark")):(document.documentElement.classList.remove("dark"),document.documentElement.setAttribute("data-color-scheme","light")),localStorage.setItem("darkMode",String(n))},[n]),r.useEffect(()=>{const e=setTimeout(()=>{u(!0)},2e3);return()=>clearTimeout(e)},[]);return a&&e?s.jsx(W,{show:!0}):s.jsx(d,{children:s.jsx(R,{children:s.jsx(B,{children:s.jsxs("div",{className:"min-h-screen animate-fadeIn transition-colors duration-300 "+(n?"bg-dark-bg":"bg-cream-light"),children:[s.jsx(U,{onThemeToggle:()=>{i(!n)},isDarkMode:n}),s.jsx(r.Suspense,{fallback:s.jsx(te,{}),children:s.jsxs(c,{children:[s.jsx(h,{path:"/",element:s.jsx(q,{})}),s.jsx(h,{path:"/roasters",element:s.jsx(G,{})}),s.jsx(h,{path:"/about",element:s.jsx($,{})}),s.jsx(h,{path:"/blog",element:s.jsx(Y,{})}),s.jsx(h,{path:"/contact",element:s.jsx(K,{})}),s.jsx(h,{path:"/login",element:s.jsx(Q,{})}),s.jsx(h,{element:s.jsx(H,{}),children:s.jsx(h,{path:"/profile",element:s.jsx(J,{})})}),s.jsx(h,{path:"*",element:s.jsx(X,{})})]})}),s.jsx(V,{lastUpdate:l}),x&&s.jsxs(r.Suspense,{fallback:null,children:[s.jsx(Z,{}),s.jsx(ee,{})]})]})})})})}class se extends r.Component{constructor(e){super(e),t(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.reload()}),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?s.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #2C1810 0%, #4A2C1D 100%)",padding:"20px"},children:s.jsxs("div",{style:{maxWidth:"600px",width:"100%",background:"#FFFFFF",borderRadius:"16px",padding:"40px",textAlign:"center",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.3)"},children:[s.jsx("div",{style:{fontSize:"64px",marginBottom:"20px"},children:"‚òïüí•"}),s.jsx("h1",{style:{color:"#2C1810",fontSize:"32px",fontWeight:"700",marginBottom:"12px"},children:"Oops! Something Went Wrong"}),s.jsx("p",{style:{color:"#6B4423",fontSize:"18px",marginBottom:"24px",lineHeight:"1.6"},children:"We encountered an unexpected error while brewing your coffee experience. Don't worry, your coffee beans are safe!"}),this.state.error&&s.jsxs("details",{style:{background:"#FAF3E9",borderRadius:"8px",padding:"16px",marginBottom:"24px",textAlign:"left",border:"2px solid #F5E6D3"},children:[s.jsx("summary",{style:{color:"#4A2C1D",fontWeight:"600",cursor:"pointer",marginBottom:"8px"},children:"Error Details (for developers)"}),s.jsxs("div",{style:{fontSize:"14px",color:"#6B4423",fontFamily:"monospace",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:[s.jsx("strong",{children:"Error:"})," ",this.state.error.message||"Unknown error",this.state.errorInfo&&s.jsxs(s.Fragment,{children:[s.jsx("br",{}),s.jsx("br",{}),s.jsx("strong",{children:"Stack Trace:"}),this.state.errorInfo.componentStack?this.state.errorInfo.componentStack:s.jsx("span",{style:{color:"#B8860B"},children:"No stack trace available."})]})]})]}),s.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center",flexWrap:"wrap"},children:[s.jsx("button",{onClick:this.handleReset,style:{background:"linear-gradient(135deg, #D4AF37 0%, #C49B2E 100%)",color:"#FFFFFF",border:"none",borderRadius:"8px",padding:"14px 28px",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s",boxShadow:"0 4px 12px rgba(212, 175, 55, 0.3)"},onMouseOver:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 6px 16px rgba(212, 175, 55, 0.4)"},onMouseOut:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 12px rgba(212, 175, 55, 0.3)"},children:"üîÑ Reload & Try Again"}),s.jsx("button",{onClick:()=>window.location.href="/",style:{background:"#FFFFFF",color:"#4A2C1D",border:"2px solid #D4AF37",borderRadius:"8px",padding:"14px 28px",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>{e.currentTarget.style.background="#FAF3E9"},onMouseOut:e=>{e.currentTarget.style.background="#FFFFFF"},children:"üè† Go Home"})]}),s.jsx("p",{style:{marginTop:"24px",fontSize:"14px",color:"#8B6F47"},children:"If this problem persists, please contact support or file an issue on GitHub."})]})}):this.props.children}}m.createRoot(document.getElementById("root")).render(s.jsx(r.StrictMode,{children:s.jsx(se,{children:s.jsx(re,{})})}));export{O as a,C as b,M as u};
