import{j as e,r as t}from"./vendor-react-r_DLG1Wr.js";import{u as r}from"./index-BSEvHwPB.js";import{S as a}from"./vendor-ui-B9TMmbEb.js";import{C as s}from"./CoffeeCard-CfNzhjRy.js";import"./vendor-firebase-BMH949tH.js";function o({totalBeans:t,totalRoasters:r}){return e.jsxs("header",{className:"relative bg-linear-to-br from-coffee-dark to-coffee-brown dark:from-dark-surface-elevated dark:to-dark-surface pt-28 pb-20 md:pt-32 md:pb-24 text-center text-white overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-10 pointer-events-none","aria-hidden":"true",children:[e.jsx("div",{className:"absolute top-10 left-10 w-72 h-72 bg-white rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-10 right-10 w-96 h-96 bg-gold rounded-full blur-3xl"})]}),e.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("div",{className:"inline-block px-5 py-2 bg-white/15 backdrop-blur-md rounded-full text-sm font-semibold mb-5 dark:bg-white/10 transition-all duration-300 hover:bg-white/20",children:"â˜• Premium Specialty Coffee"}),e.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-extrabold leading-tight mb-5 animate-fadeIn",children:["Your Ultimate Indian",e.jsx("br",{}),e.jsx("span",{className:"bg-linear-to-r from-gold to-cream dark:from-dark-accent dark:to-dark-text bg-clip-text text-transparent",children:"Coffee Roasters Library"})]}),e.jsxs("p",{className:"text-lg opacity-90 max-w-2xl mx-auto mb-10 leading-relaxed",children:["Explore ",e.jsxs("strong",{className:"font-bold text-gold dark:text-dark-accent",children:[t,"+"]})," handpicked specialty beans from ",e.jsx("strong",{className:"font-bold text-gold dark:text-dark-accent",children:r})," top roasters across India"]}),e.jsxs("div",{className:"flex justify-center gap-10 md:gap-16 flex-wrap",children:[e.jsxs("div",{className:"text-center transform transition-transform duration-300 hover:scale-110",children:[e.jsxs("div",{className:"text-4xl md:text-5xl font-bold text-gold dark:text-dark-accent mb-1","aria-label":`${r} plus roasters`,children:[r,"+"]}),e.jsx("div",{className:"text-sm opacity-80 uppercase tracking-wider",children:"Roasters"})]}),e.jsxs("div",{className:"text-center transform transition-transform duration-300 hover:scale-110",children:[e.jsxs("div",{className:"text-4xl md:text-5xl font-bold text-gold dark:text-dark-accent mb-1","aria-label":`${t} plus coffee beans`,children:[t,"+"]}),e.jsx("div",{className:"text-sm opacity-80 uppercase tracking-wider",children:"Coffee Beans"})]}),e.jsxs("div",{className:"text-center transform transition-transform duration-300 hover:scale-110",children:[e.jsx("div",{className:"text-4xl md:text-5xl font-bold text-gold dark:text-dark-accent mb-1","aria-label":"100 percent third wave culture",children:"100%"}),e.jsx("div",{className:"text-sm opacity-80 uppercase tracking-wider",children:"Third Wave Culture"})]})]})]})]})}const l=["washed","natural","honey","anaerobic","fermentation","barrel aged","experimental"];function d(t){return e.jsxs("div",{className:"max-w-7xl mx-auto px-5 py-10",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"relative max-w-3xl mx-auto",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#AB6E36] dark:text-dark-accent text-xl",children:"ðŸ”"}),e.jsx("input",{type:"text",placeholder:"Search for coffee beans, roasters, origins...",value:t.searchTerm,onChange:e=>t.setSearchTerm(e.target.value),className:"w-full pl-12 pr-4 py-3 rounded-xl border-2 border-transparent bg-white dark:bg-dark-surface text-coffee-dark dark:text-dark-text placeholder-coffee-light dark:placeholder-dark-text-secondary focus:outline-none focus:border-coffee-medium dark:focus:border-dark-accent focus:shadow-lg transition-all duration-300 shadow-md text-lg"})]})}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsx("label",{className:"block text-lg font-medium text-coffee-dark dark:text-dark-text mb-2 text-center",children:"Price Range (â‚¹)"}),e.jsxs("div",{className:"flex justify-between mb-1.5 font-medium text-base text-[#AB6E36] dark:text-dark-accent",children:[e.jsxs("span",{children:["â‚¹",t.priceRange[0].toLocaleString()]}),e.jsxs("span",{children:["â‚¹",t.priceRange[1].toLocaleString()]})]}),e.jsx(a,{range:!0,min:0,max:1e4,value:t.priceRange,onChange:e=>t.setPriceRange(e),step:50,styles:{rail:{backgroundColor:"#F3EDE6",height:10,borderRadius:7},track:{backgroundColor:"#D87330",height:10,borderRadius:7},handle:{borderColor:"#D87330",backgroundColor:"#FFF",boxShadow:"0 2px 8px rgba(216, 115, 48, 0.13)",width:26,height:26,marginTop:-8}}})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-4 gap-y-6 mb-3",children:[e.jsxs("div",{className:"animate-slideUp",children:[e.jsx("label",{className:"block text-xs font-semibold text-coffee-brown dark:text-dark-text-secondary mb-2 uppercase tracking-wide",children:"ðŸª Roaster"}),e.jsxs("select",{value:t.selectedRoaster,onChange:e=>t.setSelectedRoaster(e.target.value),className:"w-full px-4 py-3 border-2 border-transparent rounded-xl text-base bg-white dark:bg-dark-surface text-coffee-dark dark:text-dark-text cursor-pointer transition-all duration-300 shadow-md hover:border-coffee-light dark:hover:border-dark-accent focus:outline-none focus:border-coffee-medium dark:focus:border-dark-accent focus:shadow-lg",children:[e.jsx("option",{value:"all",children:"All Roasters"}),t.roasters.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{className:"animate-slideUp",children:[e.jsx("label",{className:"block text-xs font-semibold text-coffee-brown dark:text-dark-text-secondary mb-2 uppercase tracking-wide",children:"ðŸŒ Origin"}),e.jsxs("select",{value:t.selectedOrigin,onChange:e=>t.setSelectedOrigin(e.target.value),className:"w-full px-4 py-3 border-2 border-transparent rounded-xl text-base bg-white dark:bg-dark-surface text-coffee-dark dark:text-dark-text cursor-pointer transition-all duration-300 shadow-md hover:border-coffee-light dark:hover:border-dark-accent focus:outline-none focus:border-coffee-medium dark:focus:border-dark-accent focus:shadow-lg",children:[e.jsx("option",{value:"all",children:"All Origins"}),t.origins.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{className:"animate-slideUp",children:[e.jsx("label",{className:"block text-xs font-semibold text-coffee-brown dark:text-dark-text-secondary mb-2 uppercase tracking-wide",children:"ðŸ”¥ Roast"}),e.jsxs("select",{value:t.selectedRoast,onChange:e=>t.setSelectedRoast(e.target.value),className:"w-full px-4 py-3 border-2 border-transparent rounded-xl text-base bg-white dark:bg-dark-surface text-coffee-dark dark:text-dark-text cursor-pointer transition-all duration-300 shadow-md hover:border-coffee-light dark:hover:border-dark-accent focus:outline-none focus:border-coffee-medium dark:focus:border-dark-accent focus:shadow-lg",children:[e.jsx("option",{value:"all",children:"All Roasts"}),t.roastLevels.map(t=>e.jsx("option",{value:t,children:t.charAt(0).toUpperCase()+t.slice(1)},t))]})]}),e.jsxs("div",{className:"animate-slideUp",children:[e.jsx("label",{className:"block text-xs font-semibold text-coffee-brown dark:text-dark-text-secondary mb-2 uppercase tracking-wide",children:"âš™ï¸ Process"}),e.jsxs("select",{value:t.selectedProcess,onChange:e=>t.setSelectedProcess(e.target.value),className:"w-full px-4 py-3 border-2 border-transparent rounded-xl text-base bg-white dark:bg-dark-surface text-coffee-dark dark:text-dark-text cursor-pointer transition-all duration-300 shadow-md hover:border-coffee-light dark:hover:border-dark-accent focus:outline-none focus:border-coffee-medium dark:focus:border-dark-accent focus:shadow-lg",children:[e.jsx("option",{value:"all",children:"All Processes"}),l.map(t=>e.jsx("option",{value:t,children:t.charAt(0).toUpperCase()+t.slice(1)},t))]})]}),e.jsxs("div",{className:"animate-slideUp",children:[e.jsx("label",{className:"block text-xs font-semibold text-coffee-brown dark:text-dark-text-secondary mb-2 uppercase tracking-wide",children:"ðŸ« Tasting Notes"}),e.jsx("select",{value:t.selectedTastingNote,onChange:e=>t.setSelectedTastingNote(e.target.value),className:"w-full px-4 py-3 border-2 border-transparent rounded-xl text-base bg-white dark:bg-dark-surface text-coffee-dark dark:text-dark-text cursor-pointer transition-all duration-300 shadow-md hover:border-coffee-light dark:hover:border-dark-accent focus:outline-none focus:border-coffee-medium dark:focus:border-dark-accent focus:shadow-lg",children:t.tastingNoteOptions.map(t=>e.jsx("option",{value:t,children:t.charAt(0).toUpperCase()+t.slice(1)},t))})]}),e.jsxs("div",{className:"animate-slideUp",children:[e.jsx("label",{className:"block text-xs font-semibold text-coffee-brown dark:text-dark-text-secondary mb-2 uppercase tracking-wide",children:"ðŸ“Š Sort By"}),e.jsxs("select",{value:t.sortBy,onChange:e=>t.setSortBy(e.target.value),className:"w-full px-4 py-3 border-2 border-transparent rounded-xl text-base bg-white dark:bg-dark-surface text-coffee-dark dark:text-dark-text cursor-pointer transition-all duration-300 shadow-md hover:border-coffee-light dark:hover:border-dark-accent focus:outline-none focus:border-coffee-medium dark:focus:border-dark-accent focus:shadow-lg",children:[e.jsx("option",{value:"newest",children:"Newest First"}),e.jsx("option",{value:"name",children:"Name"}),e.jsx("option",{value:"price-low",children:"Price: Low to High"}),e.jsx("option",{value:"price-high",children:"Price: High to Low"}),e.jsx("option",{value:"roaster",children:"Roaster"})]})]})]}),e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsxs("label",{className:"font-medium text-base flex items-center gap-2 cursor-pointer dark:text-dark-text",children:[e.jsx("input",{type:"checkbox",checked:t.showOutOfStock,onChange:e=>t.setShowOutOfStock(e.target.checked),className:"w-[18px] h-[18px] cursor-pointer accent-coffee-medium dark:accent-dark-accent"}),"Show Out of Stock"]})})]})}function n({pagedBeans:r,filteredBeansCount:a,page:o,pageCount:l,setPage:d,onResetFilters:n,favorites:c=[],onToggleFavorite:i}){const u=t.useMemo(()=>{const e=[];if(l<=7)for(let t=1;t<=l;t++)e.push(t);else e.push(1),o>3&&e.push("..."),o===l?(e.push(o-2),e.push(o-1)):o===l-1?(e.push(o-1),e.push(o)):o>2&&o<l-1?(e.push(o-1),e.push(o),e.push(o+1)):(2===o||1===o)&&(e.push(2),e.push(3)),o<l-2&&e.push("..."),e.push(l);return e},[o,l]);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"max-w-7xl mx-auto px-5 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mt-8",children:r.map(t=>e.jsx(s,{bean:t,isFavorite:c.includes(t.id),onToggleFavorite:i},t.id))}),l>0&&e.jsxs("div",{className:"flex justify-center my-10 gap-4 flex-wrap px-5",children:[e.jsx("button",{onClick:()=>d(Math.max(o-1,1)),disabled:1===o,className:"px-5 py-2 rounded-lg border-2 border-gold dark:border-dark-accent font-semibold transition-all duration-150 "+(1===o?"bg-cream-light dark:bg-dark-bg-secondary text-gray-400 dark:text-dark-text-muted cursor-not-allowed":"bg-[#fffbe8] dark:bg-dark-surface text-[#222] dark:text-dark-text cursor-pointer hover:bg-gold dark:hover:bg-dark-accent hover:text-white"),children:"Previous"}),e.jsx("div",{className:"flex gap-1 items-center text-base",children:u.map((t,r)=>"number"==typeof t?e.jsx("button",{onClick:()=>d(t),disabled:t===o,className:"px-3 py-1 rounded-lg transition-all "+(t===o?"bg-gold dark:bg-dark-accent text-white font-bold border-2 border-gold dark:border-dark-accent cursor-default":"bg-[#fffbe8] dark:bg-dark-surface text-[#111] dark:text-dark-text font-semibold border-2 border-[#fffbe8] dark:border-dark-surface cursor-pointer hover:bg-gold/10 dark:hover:bg-dark-accent/20"),children:t},t):e.jsx("span",{className:"px-1 text-gold dark:text-dark-accent font-bold select-none",children:"â€¦"},`ellipsis-${r}`))}),e.jsx("button",{onClick:()=>d(Math.min(o+1,l)),disabled:o===l||0===l,className:"px-5 py-2 rounded-lg border-2 border-gold dark:border-dark-accent font-semibold transition-all duration-150 "+(o===l||0===l?"bg-cream-light dark:bg-dark-bg-secondary text-gray-400 dark:text-dark-text-muted cursor-not-allowed":"bg-[#fffbe8] dark:bg-dark-surface text-[#222] dark:text-dark-text cursor-pointer hover:bg-gold dark:hover:bg-dark-accent hover:text-white"),children:"Next"})]}),0===a&&e.jsxs("div",{className:"text-center py-20 px-5 animate-fadeIn",children:[e.jsx("div",{className:"text-8xl mb-5 opacity-30",children:"â˜•"}),e.jsx("h3",{className:"text-3xl text-coffee-dark dark:text-dark-text mb-2.5",children:"No coffee beans found"}),e.jsx("p",{className:"text-base text-coffee-light dark:text-dark-text-secondary mb-8",children:"Try adjusting your filters or search terms"}),e.jsx("button",{onClick:n,className:"px-8 py-3.5 bg-coffee-medium dark:bg-dark-accent text-white border-none rounded-xl text-base font-semibold cursor-pointer transition-all duration-300 shadow-md hover:bg-coffee-brown dark:hover:bg-dark-accent/80 hover:-translate-y-0.5 hover:shadow-lg",children:"Reset Filters"})]})]})}function c(e){const t=e.flatMap(e=>e.tastingNotes??[]);return Array.from(new Set(t.map(e=>e.trim()))).sort()}function i(){const{favorites:a,toggleFavorite:s}=r(),[l,i]=t.useState([]),[u,x]=t.useState(!0),[m,f]=t.useState(null),[h,b]=t.useState(""),[p,g]=t.useState("all"),[k,v]=t.useState("all"),[w,j]=t.useState("all"),[N,y]=t.useState("all"),[S,C]=t.useState("all"),[R,L]=t.useState(!1),[O,B]=t.useState("name"),[F,A]=t.useState([0,1e4]),[T,P]=t.useState(1),M=t.useMemo(()=>Array.from(new Set(l.map(e=>e.roaster))).sort(),[l]),U=t.useMemo(()=>Array.from(new Set(l.map(e=>e.origin).filter(e=>Boolean(e)))).sort(),[l]),E=t.useMemo(()=>{const e=Array.from(new Set(l.map(e=>e.roastLevel).filter(e=>Boolean(e)))),t=["Light","Medium Light","Medium","Medium Dark","Dark","Filter","Espresso","Omni"],r=new Set([...t,...e.map(e=>e.charAt(0).toUpperCase()+e.slice(1))]);return t.filter(e=>r.has(e))},[l]),D=t.useMemo(()=>["all",...c(l)],[l]);t.useEffect(()=>{I()},[]),t.useEffect(()=>{P(1)},[h,p,k,w,N,S,R,O,F,l]);const I=async()=>{try{x(!0);const e=await fetch("/api/coffee"),t=await e.json();i(t.data),f(null)}catch(e){f("Failed to load coffee data")}finally{x(!1)}},$=t.useMemo(()=>{const e=h.toLowerCase().split(/\s+/).filter(Boolean);let t=l.filter(t=>{const r=function(e){return[e.name,e.roaster,e.origin||"",e.roastLevel||"",e.process||"",e.weight,e.tastingNotes?.join(" ")||""].join(" ").toLowerCase()}(t),a=0===e.length||e.every(e=>r.includes(e)),s="all"===p||t.roaster===p,o="all"===k||t.origin===k,l=function(e,t){if("all"===t)return!0;const r=e.roastLevel?.toLowerCase();if(!r)return!1;const a=t.toLowerCase();return"medium light"===a?r.includes("medium")&&r.includes("light"):"medium dark"===a?r.includes("medium")&&r.includes("dark"):"medium"===a?r.includes("medium")&&!r.includes("light")&&!r.includes("dark"):r.includes(a)}(t,w),d=function(e,t){return"all"===t||!!e.process&&e.process.toLowerCase().split(/,\s*|\s*\/\s*|\s*&\s*\+\s*/).some(e=>{const r=function(e){if(!e)return"";const t=e.toLowerCase().trim();return t.includes("wash")||t.includes("wet")||t.includes("lavado")||t.includes("fully washed")?"washed":t.includes("natural")||t.includes("dry")||t.includes("sun")||t.includes("naturals")?"natural":t.includes("honey")||t.includes("pulped natural")||t.includes("semi")?"honey":t.includes("anaerobic")||t.includes("anerobic")?"anaerobic":t.includes("barrel")||t.includes("aged")||t.includes("whisky")||t.includes("whiskey")||t.includes("rum")||t.includes("wine barrel")||t.includes("oak")?"barrel aged":t.includes("ferment")||t.includes("fermentation")||t.includes("pineapple")||t.includes("cherry ferment")||t.includes("double ferment")||t.includes("intenso")||t.includes("yeast")||t.includes("cultured")||t.includes("koji")||t.includes("coferment")||t.includes("co-ferment")||t.includes("carbonic")||t.includes("thermal shock")||t.includes("bio reactor")?"fermentation":t.includes("experimental")||t.includes("special")?"experimental":""}(e.trim());return e.trim()===t.toLowerCase()||r===t.toLowerCase()})}(t,N),n="all"===S||t.tastingNotes&&t.tastingNotes.map(e=>e.toLowerCase()).includes(S.toLowerCase()),c=R||t.inStock,i=t.price>=F[0]&&t.price<=F[1];return a&&s&&o&&l&&d&&n&&c&&i});return t.sort((e,t)=>{if("newest"===O)return 0;switch(O){case"price-low":return e.price-t.price;case"price-high":return t.price-e.price;case"roaster":return e.roaster.localeCompare(t.roaster);default:return e.name.localeCompare(t.name)}}),"newest"===O?t.reverse():t},[l,h,p,k,w,N,S,R,O,F]),H=Math.ceil($.length/12),z=t.useMemo(()=>{const e=12*(T-1);return $.slice(e,e+12)},[$,T]);return m?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen text-center px-5",children:[e.jsx("div",{className:"text-8xl mb-5 animate-shake",children:"â˜•"}),e.jsx("h2",{className:"text-4xl text-coffee-dark dark:text-dark-text mb-2.5",children:"Oops! Something went wrong"}),e.jsx("p",{className:"text-lg text-coffee-light dark:text-dark-text-secondary mb-8",children:m}),e.jsxs("button",{onClick:I,className:"flex items-center gap-2.5 px-8 py-3.5 bg-coffee-medium dark:bg-dark-accent text-white border-none rounded-xl text-base font-semibold cursor-pointer transition-all duration-300 shadow-md hover:bg-coffee-brown dark:hover:bg-dark-accent/80 hover:-translate-y-0.5 hover:shadow-lg",children:[e.jsx("span",{children:"ðŸ”„"})," Try Again"]})]}):u?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen text-center px-5",children:[e.jsx("div",{className:"text-8xl mb-5 animate-bounce-custom",children:"â˜•"}),e.jsx("h2",{className:"text-2xl text-coffee-dark dark:text-dark-text",children:"Loading coffee beans..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(o,{totalBeans:l.length,totalRoasters:M.length}),e.jsx(d,{searchTerm:h,setSearchTerm:b,selectedRoaster:p,setSelectedRoaster:g,selectedOrigin:k,setSelectedOrigin:v,selectedRoast:w,setSelectedRoast:j,selectedProcess:N,setSelectedProcess:y,selectedTastingNote:S,setSelectedTastingNote:C,showOutOfStock:R,setShowOutOfStock:L,sortBy:O,setSortBy:B,priceRange:F,setPriceRange:A,roasters:M,origins:U,roastLevels:E,processOptions:[],tastingNoteOptions:D}),e.jsx(n,{pagedBeans:z,filteredBeansCount:$.length,page:T,pageCount:H,setPage:P,onResetFilters:()=>{b(""),g("all"),v("all"),j("all"),y("all"),C("all"),A([0,1e4])},favorites:Array.from(a),onToggleFavorite:s})]})}export{i as default};
