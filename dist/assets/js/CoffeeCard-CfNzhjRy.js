import{r as e,j as t}from"./vendor-react-r_DLG1Wr.js";import{u as a}from"./index-BSEvHwPB.js";function r(e,t={}){const{width:a,height:r,quality:s=80,format:o="auto",fit:n="cover"}=t;if(!e||""===e)return"";const d=[];a&&d.push(`w_${a}`),r&&d.push(`h_${r}`),s&&d.push(`q_${s}`),o&&d.push(`f_${o}`);const l="cover"===n?"fill":"contain"===n?"fit":"scale";d.push(`c_${l}`);return`https://res.cloudinary.com/dtnziia9i/image/fetch/${d.join(",")}/${encodeURIComponent(e)}`}function s(e,t=[400,600,800,1200]){return e?t.map(t=>`${r(e,{width:t,format:"auto",quality:80})} ${t}w`).join(", "):""}function o({bean:o}){const{toggleFavorite:n,isFavorite:d}=a(),l=d(o.id),[i,c]=e.useState(!1),x=o.image||"",m=x.length>0;return t.jsxs("div",{className:"bg-white dark:bg-dark-surface rounded-2xl overflow-hidden shadow-lg dark:shadow-dark-surface-elevated/30 transition-all duration-300 hover:-translate-y-2.5 hover:shadow-2xl dark:hover:shadow-dark-surface-elevated/50 animate-scaleIn h-[520px] md:h-[560px] lg:h-[580px] flex flex-col "+(o.inStock?"":"opacity-70"),children:[t.jsxs("div",{className:"relative w-full h-48 md:h-52 lg:h-56 shrink-0 overflow-hidden bg-linear-to-br from-cream to-cream-light dark:from-dark-bg-secondary dark:to-dark-surface flex items-center justify-center",children:[m?t.jsx("img",{src:r(x,{width:600,height:450,quality:85,format:"auto",fit:"cover"}),srcSet:s(x,[400,600,800]),sizes:"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw",alt:o.name,className:"w-full h-full object-cover object-center transition-all duration-500 hover:scale-110 "+(i?"opacity-100":"opacity-0"),loading:"lazy",width:"600",height:"450",onLoad:()=>c(!0),onError:e=>{e.currentTarget.src=x,c(!0)}}):t.jsx("div",{className:"w-full h-full flex items-center justify-center text-coffee-medium dark:text-dark-text-secondary text-4xl",children:"â˜•"}),!i&&m&&t.jsx("div",{className:"absolute inset-0 bg-cream dark:bg-dark-bg-secondary animate-pulse"}),!o.inStock&&t.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center text-white font-bold text-lg tracking-wide z-10",children:"Out of Stock"})]}),t.jsxs("div",{className:"p-4 md:p-5 lg:p-6 flex-1 flex flex-col",children:[t.jsx("div",{className:"text-xs font-bold text-coffee-medium dark:text-dark-accent uppercase tracking-wider mb-2",children:o.roaster}),t.jsx("h3",{className:"text-lg md:text-xl font-bold text-coffee-dark dark:text-dark-text mb-3 md:mb-4 leading-snug line-clamp-2 min-h-12 md:min-h-14",children:o.name}),t.jsxs("div",{className:"flex flex-wrap gap-2 mb-4 md:mb-5 flex-1 overflow-y-auto max-h-[100px] md:max-h-[120px] content-start",children:[o.origin&&t.jsxs("span",{className:"px-3 py-1.5 bg-cream dark:bg-dark-bg-secondary text-coffee-brown dark:text-dark-text-secondary rounded-lg text-xs font-semibold h-fit",children:["ðŸ“ ",o.origin]}),o.roastLevel&&t.jsxs("span",{className:"px-3 py-1.5 bg-cream dark:bg-dark-bg-secondary text-coffee-brown dark:text-dark-text-secondary rounded-lg text-xs font-semibold h-fit",children:["ðŸ”¥ ",o.roastLevel]}),o.process&&t.jsxs("span",{className:"px-3 py-1.5 bg-cream dark:bg-dark-bg-secondary text-coffee-brown dark:text-dark-text-secondary rounded-lg text-xs font-semibold h-fit",children:["âš™ï¸ ",o.process]}),o.tastingNotes&&o.tastingNotes.length>0&&t.jsxs("span",{className:"px-3 py-1.5 bg-cream dark:bg-dark-bg-secondary text-coffee-brown dark:text-dark-text-secondary rounded-lg text-xs font-semibold h-fit line-clamp-2",children:["ðŸ« ",o.tastingNotes.slice(0,3).join(", "),o.tastingNotes.length>3?"...":""]})]}),t.jsxs("div",{className:"flex justify-between items-center pt-4 md:pt-5 border-t-2 border-cream dark:border-dark-border mt-auto",children:[t.jsx("div",{className:"flex flex-col",children:t.jsxs("span",{className:"text-2xl md:text-3xl font-extrabold text-coffee-medium dark:text-dark-accent leading-none",children:["â‚¹",o.price.toFixed(0)]})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:async e=>{e.preventDefault(),e.stopPropagation(),await n(o.id)},title:l?"Remove from Favourites":"Add to Favourites",className:"p-3 transition-transform duration-200 ease-in-out hover:scale-110 active:scale-95 focus:outline-none rounded-full",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",className:"transition-all duration-200 "+(l?"text-red-500 fill-current stroke-current":"fill-none stroke-coffee-medium dark:stroke-dark-text-secondary"),strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:t.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})}),t.jsx("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",className:"px-4 md:px-6 py-2.5 md:py-3 text-white rounded-xl font-bold text-sm transition-all duration-300 "+(o.inStock?"bg-linear-to-br from-emerald-500 to-emerald-600 hover:-translate-y-0.5 hover:shadow-lg shadow-emerald-500/40":"bg-red-500 cursor-not-allowed shadow-none"),children:"Buy Now â†’"})]})]})]})]})}export{o as C};
